# Changelog – Aspen Board

Alle relevanten Änderungen an diesem Modul werden hier dokumentiert.
Format basiert auf [Keep a Changelog](https://keepachangelog.com/de/1.0.0/) und [SemVer](https://semver.org/lang/de/).

## [1.3.0] – 2026-01-30
### Added
- Hauptspalten-Name im Extraspalten-Dialog ergänzt und als Überschrift über der Hauptliste angezeigt.
- ToDo-Popup pro Extraspalte mit eigenem Tab zur Konfiguration der Schrittfolge ergänzt.

## [1.2.7] – 2026-01-30
### Fixed
- Drag-&-Drop-Updates bündeln das Persistieren/Rendern auf den nächsten Frame, damit Gerätekacheln nach dem Ablegen ohne spürbare Verzögerung aktualisiert werden.

## [1.2.6] – 2026-01-28
### Changed
- Spalten-, Vorfilter-Buttons und Einstellungs-Tabs verwenden identische Farben für aktive/inaktive Zustände; aktive Tabs erhalten einen dickeren Rahmen in Akzentfarbe.

## [1.2.3] – 2026-01-24
### Changed
- Umbenennungen des Custom-Feldnamens werden jetzt für alle Gerätekarten vereinheitlicht gespeichert und angezeigt.

## [1.2.2] – 2026-01-13
### Added
- Doppelklick auf eine Kachel öffnet die Eingabe für KV-Arbeitsstunden pro Gerät.
- Standardlabel der Stundenanpassung auf KV-Arbeitsstunden gesetzt.

## [1.2.1] – 2026-01-13
### Added
- Stundenanpassung wird pro Gerät zusätzlich in den Kacheln angezeigt, sofern ein Custom-Wert gesetzt ist.

## [1.2.0] – 2026-01-13
### Added
- Custom-Feld pro Gerät mit Doppelklick-Bearbeitung für Name und Wert ergänzt.
- Optionales Custom-Berechnungsfeld für Formeln mit Aspen-Spalten und dem eingegebenen Wert ergänzt.

## [1.1.35] – 2025-12-16
### Added
- Extraspalten-Bedingungen interpretieren Vergleichsoperatoren im Keyword-Feld (z. B. >0 oder <=1,5), um numerische Aspen-Felder gezielt zu prüfen.

## [1.1.34] – 2025-12-16
### Fixed
- Manuelle Positionsänderungen sichern den Gerätestatus jetzt unmittelbar nach dem Verschieben.

## [1.1.33] – 2025-12-15
### Added
- Im Design-Tab lässt sich nun die Anzahl der Vorschau-Chips einstellen, um die Chipgröße gezielt zu testen.

## [1.1.32] – 2025-12-15
### Added
- Neuer Design-Tab im Kontextmenü mit Vorschaukarte und einstellbarer Schriftgröße für die Gerätekarten.

## [1.1.31] – 2025-12-13
### Fixed
- Regelgruppen in den Extraspalten starten nicht mehr automatisch in Spaltenanzahl; leere Regeln können vollständig entfernt und bei Bedarf neu angelegt werden.

## [1.1.30] – 2025-12-12
### Fixed
- „Bedingung hinzufügen“ erzeugt zusätzliche Bedingungszeilen, auch wenn sie zunächst leer sind.
- „Neue Regelgruppe hinzufügen“ legt eine eigenständige Regel an, statt weitere Bedingungen in bestehende Regeln einzutragen.
- Standard-Regeln lassen sich vollständig mit dem ✕ entfernen.

## [1.1.29] – 2025-12-11
### Changed
- Der Button „Bedingung hinzufügen“ legt jetzt zuverlässig eine neue Bedingungszeile an.
- „Regel hinzufügen“ erscheint nur noch einmal unterhalb der gesamten Regelliste, nicht mehr unter jeder einzelnen Regelzeile.

## [1.1.28] – 2025-12-11
### Changed
- Zuweisungsregeln bestehen jetzt aus beliebig vielen Bedingungen, die alle erfüllt sein müssen, bevor ein Gerät in die Zielspalte verschoben wird.
- Die Regeloberfläche zeigt Bedingungen gruppiert pro Zielspalte und erlaubt das Hinzufügen/Entfernen einzelner Bedingungen.

## [1.1.27] – 2025-12-10
### Changed
- Extraspalten-Eingaben sind kompakter: Der eigene Name steht direkt neben dem Standardtitel, die Zusatzüberschrift entfällt.
- Regelkarten verzichten auf separate Titel und Zielhinweise, damit der Fokus auf den eigentlichen Zuweisungsregeln liegt.

## [1.1.26] – 2025-12-09
### Changed
- Extraspalten lassen sich jetzt direkt über die Spaltenüberschrift umbenennen; die Konfiguration verweist darauf und bleibt dadurch kompakter.
- Regelkarten verzichten auf angezeigte Spaltennamen und fokussieren sich auf ihr Ziel-Spaltenziel, damit klar wird, dass die Regeln global greifen.

## [1.1.25] – 2025-12-08
### Changed
- Keyword-Regeln verstehen jetzt logische Ausdrücke mit OR/AND (z. B. „UC98 OR UC99“) und prüfen mehrere Varianten in einem Durchgang.
- Extraspalten-Konfiguration trennt Spaltennamen und Regelbereich in eigene Abschnitte, sodass sichtbar bleibt, dass Regeln Geräte unabhängig von der bisherigen Spalte in das gewählte Ziel verschieben.

## [1.1.24] – 2025-12-07
### Changed
- Keyword-Regeln unterstützen jetzt Muster-Syntax (z. B. UC9*|mUC99, UC[89]), sodass mehrere Varianten ohne zusätzliche Regeln erkannt werden.
- Eingaben im Keyword-Feld lassen sich per Enter-Taste auf gültige Syntax prüfen; fehlerhafte Muster markieren das Feld sofort.

## [1.1.23] – 2025-12-06
### Fixed
- Dropdown-Auswahllisten im Einstellungsdialog übernehmen jetzt die Modulhintergründe und Textfarben, damit Feld- und Zielspaltenwahl auch auf dunklen Themen klar lesbar bleibt.

## [1.1.22] – 2025-12-05
### Changed
- Extraspalten-Tab erhält eine begrenzte Höhe mit eigener Scrollfläche, damit umfangreiche Regel-Setups ohne riesige Modaldialoge
  bearbeitet werden können.
- Auto-Zuordnungsregeln prüfen jetzt frei wählbare Aspen-Felder; ein leeres Keyword verschiebt Geräte bereits bei gefülltem Feld
  (z. B. UC) in die Zielspalte.
- Bestehende AutoUC-Schalter werden in gleichwertige Feld/Keyword-Regeln umgewandelt, damit sämtliche Zuordnungslogik über das
  Regelraster läuft.

## [1.1.21] – 2025-12-04
### Changed
- Extraspalten-Konfiguration in einen eigenen Tab des Einstellungsdialogs verschoben, damit die Hauptoptionen kompakter bleiben.

## [1.1.20] – 2025-12-03
### Added
- Extraspalten erhalten regelbasierte Auto-Zuordnungstabellen mit Status-Dropdown, Keyword-Autocomplete und Zielspaltenwahl.

### Changed
- Gerätezuweisungen berücksichtigen die neuen Regeln direkt nach der AutoUC-Prüfung; bestehende Konfigurationen ergänzen fehlende Regelstubs automatisch.

## [1.1.19] – 2025-12-02
### Changed
- Modul-Farbgruppen strikt auf das Main/Alternative/Accent-System umgestellt: alle Hintergründe, Rahmen, Texte und Akzente lesen jetzt direkt die bereitgestellten CSS-Variablen der drei Layer.
- Legacy-Farbmanagement (Sanitization, Fallback-Logik, Apply-Funktion und Picker) entfernt; die Oberfläche wird ausschließlich über die globalen Modulpaletten wie im ColorExample-Modul eingefärbt.
- Scrollleisten, Karten, Dialoge und Steuerleisten referenzieren nur noch die drei Themen-Variablen, sodass keine versteckten Weiß-/Blau-Defaults mehr auftreten.
- Modale Überlagerungen verdunkeln jetzt lediglich den Hintergrund statt flächig eingefärbt zu werden.
- Karten nutzen den Alternativ-Rahmen passend zu ihrem Alternativ-Hintergrund.
- Akzentfarbene Buttons und Chips nutzen nun konsequent den Akzent-Rahmen statt auf den Main-Rahmen zurückzufallen, auch in ihrem aktiven Zustand.
- Akzent-Schaltflächen verwenden im inaktiven Zustand Main-Hintergrund und -Rahmen und schalten erst bei Aktivierung vollständig auf das Akzent-Schema um – inklusive Akzent-Rahmen.

## [1.1.18] – 2025-10-13
### Changed
- Modalbreite und Layout-Abstände für Einstellungen erweitert, sodass Filter, Zusatzspalten und Hauptbereich mehr Platz bekommen und Dropdowns nicht mehr gequetscht wirken.

## [1.1.17] – 2025-10-15
### Changed
- Schnellaktionen (Titel, Datei-Auswahl, Aktivieren/Deaktivieren) in die linke Spalte des Einstellungsdialogs verschoben, wo sie oberhalb des Überschriftenfilters gebündelt sind.

## [1.1.16] – 2025-10-14
### Changed
- Überschriftenfilter im Einstellungsdialog links neben den Extraspalten angeordnet, damit beide Bereiche nebeneinander erscheinen.

## [1.1.15] – 2025-10-13
### Changed
- Kontextmenü-Optionen in das Einstellungsmodal verlagert; das Modal öffnet jetzt per Rechtsklick und bündelt Dateiauswahl, Schnellaktionen und Partfilter an einem Ort.

## [1.1.14] – 2025-10-11
### Changed
- Datei-Handles werden jetzt im gemeinsamen IndexedDB-Store (`modulesApp` → `fs-handles`) der Module abgelegt; bestehende Aspen-
  Einträge aus dem Legacy-Speicher werden automatisch übernommen und bereinigt.

## [1.1.13] – 2025-10-10
### Changed
- Scrollleisten des Aspen-Boards optisch überarbeitet und an das globale Dashboard-Design angepasst.
- Hervorhebung aktiver Karten mit deutlicherem Rahmen und Schatten versehen, damit Statusfarben klar hervorstechen.
- Moduloberfläche und Kartenfarben an den New-Standard-Findings-Look angepasst, inklusive aktualisierter Standardfarbpalette.

## [1.1.12] – 2025-10-06
### Changed
- Die aktive Spalte lässt sich jetzt direkt im Optionsdialog ein- oder ausblenden; Layout und Flex-Berechnung passen sich an die
  sichtbaren Listen an und verteilen den Platz ausgewogener.
- Die Konfiguration der Zusatzspalten wurde überarbeitet: Eingabefelder behalten ihren Fokus, der Umschalter nutzt die aktuelle
  Spaltenbezeichnung und der Container reagiert auf die tatsächlich sichtbare Spaltenanzahl.

### Fixed
- Offene Optionen synchronisieren ihre Zwischenstände zuverlässig mit der gespeicherten Konfiguration, damit Subfelder, Regeln,
  Zusatzspalten und Filter nicht mehr verlorengehen.
- Status-Hervorhebungen werden nun auch für Zusatzspalten aktualisiert.

## [1.1.11] – 2025-10-03
### Fixed
- Datei-Handle-Abfragen nutzen jetzt die File System Access API korrekt: gespeicherte Handles werden beim Laden geprüft,
  Berechtigungsanfragen laufen nur noch über echte Nutzeraktionen und fehlende Zugriffe lösen klare UI-Hinweise aus.

## [1.1.10] – 2025-09-30
### Changed
- Zusatzspalten konfigurierbar
- Chipfarbe anpassbar
- Import/Export
- Automatisches Polling
- Menülayoutanpassung

## [1.1.9] – 2025-09-26
### Changed
- Modulmanifest aktualisiert und die Version auf 1.1.9 erhöht.

## [1.1.8] – 2025-09-24
### Changed
- Kontextmenü, Modaldialog und Konfigurationspanel erhalten höhere Z-Indizes, damit sie zuverlässig über anderen Overlays des Dashboards liegen.

## [1.1.7] – 2025-09-23
### Changed
- Schriftfarbe der Suchleiste und ihres Anzeigetextes auf Schwarz umgestellt.

## [1.1.6] – 2025-09-23
### Added
- Suchleiste oberhalb des Aspen Boards ergänzt, mit der sich Meldungen über alle Felder hinweg filtern lassen.

## [1.1.5] – 2025-09-23
### Added
- Synchronisierung für Drag&Drop aus dem Aspen-Board in die Geräteliste implementiert (Dictionary-/Devices-Update).

## [1.1.4] – 2025-09-23
### Changed
- Modulbreite auf Minimalwerte reduziert

## [1.1.3] – 2025-09-23
### Changed
- Manifestversion auf 1.0.1 angehoben

## [1.1.2] – 2025-09-23
### Changed
- Standardgröße angepasst, um Scrollleisten zu vermeiden

## [1.1.1] – 2025-09-22
### Changed
- Update-Einstellungen überarbeitet und Ordnernamen gespeichert

## [1.1.0] – 2025-09-22
### Added
- Versionsbasiertes Update-Tracking umgesetzt

## [1.0.0] – 2025-09-22
### Changed
- Terminologie von "Device" auf "Unit" umgestellt
